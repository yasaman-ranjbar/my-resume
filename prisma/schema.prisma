generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  email     String   @unique
  name      String?
  password  String   @db.VarChar(255)
  role      String   @default("admin")
  status    String   @default("active")
  lastLogin DateTime?
}

model Category {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  name      String
  slug      String   @unique
  posts     Post[]
}

model Post {
  id          Int      @id @default(autoincrement())
  createdAt   DateTime @default(now())
  title       String
  slug        String   @unique
  content     String
  status      String
  tags        String[]
  category_id Int
  cover_url   String?
  category    Category @relation(fields: [category_id], references: [id], onDelete: Cascade)
}

model project {
  id               Int      @id @default(autoincrement())
  createdAt        DateTime @default(now())
  title            String
  slug             String   @unique
  description      String
  shortDescription String   @db.VarChar(280)
  liveUrl          String?
  githubUrl        String?
  tags             String[]
  thumbnail        String?
}
